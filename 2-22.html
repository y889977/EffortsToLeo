<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>2-22</title>
	</head>
	<style type="text/css">
		.A{
			width: 1000px;
			height: 500px;
			margin: auto;
			display: flex;
			background: white;	
			border: 1px solid red;
		}
		.B{
			width: 450px;
			height: 400px;
			margin: auto;
		    display: flex;
		    background: white;		
			border: 1px solid blue;
		}
		.C{
			width: 200px;
			height: 300px;
			margin: auto;
			display: flex;
			background: white;	
			border: 1px solid green;
		}
	</style>
	<body>
		<div class="A">
			<div class="B">
				<div class="C"></div>
				<div class="C"></div>
			</div>
			<div class="B">
				<div class="C"></div>
				<div class="C"></div>
			</div>
		</div>
		<button type="button" id="button">Click Me!</button>
	</body>
	<script type="text/javascript">
	var button = document.getElementById('button'),
		treeRoot = document.getElementsByClassName('A')[0],
		timer = null;
	window.onload = function (){
		button.onclick = function () {
			reset();
			preOrder(treeRoot);
			changeColor();
		}
	}
	//初始化颜色
	function reset() {
		divList = [];
		clearInterval(timer);
		var divs = document.getElementsByTagName('div');
		for (var i = 0; i < divs.length; i++) {
			divs[i].style.backgroundColor = '#fff';
		}
	}
	//遍历
	function preOrder(node) {
		if (!(node == null)) {
			divList.push(node);
			preOrder(node.firstElementChild);
			preOrder(node.lastElementChild);
		}
	}
	//颜色变化函数
	function changeColor() {
		var i = 0;
		divList[i].style.backgroundColor = 'blue'
		timer = setInterval(function (argument) {
			i++;
			if (i < divList.length) {
				divList[i-1].style.backgroundColor = '#fff';
				divList[i].style.backgroundColor = 'blue';
			} else {
				clearInterval(timer);
				divList[divList.length-1].style.backgroundColor = '#fff';
			}
		},500)
	}
	</script>
</html>
